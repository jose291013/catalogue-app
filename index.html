<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Catalogue des Applications</title>

    <!-- ★ Librairies externes -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta3/css/bootstrap-select.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.6.6/css/flag-icons.min.css"
    />

    <style>
      /* ▾ --------- Vos styles existants --------- ▾ */
      .category-badge {
        margin-right: 5px;
      }

      /* ▾ --------- Ajouts responsive --------- ▾ */
      img,
      video,
      iframe {
        max-width: 100%;
        height: auto;
      }

      table {
        display: block; /* garde la table scrollable sur mobile */
        width: 100%;
        overflow-x: auto;
        border-collapse: collapse;
      }

      /* ▾ --------- Wrapper Iframe (sans ratio) --------- ▾ */
      .embed-app {
        width: 100%;
        /* Fallback si le postMessage n'arrive pas : min‑height 60vh */
        min-height: 60vh;
        position: relative;
      }
      .embed-app iframe {
        width: 100%;
        height: 100%;
        border: 0;
      }
    </style>
  </head>

  <body>
    <!-- ▸ Votre contenu HTML (inchangé) ▸ -->
    <div class="container my-5">
      <h1 class="mb-4">Catalogue des Applications</h1>
      <!-- SELECT LANGUE -->
      <select id="languageSelect" class="selectpicker mb-3" data-width="fit">
        <option
          value="fr"
          data-content='<span class="fi fi-fr me-2"></span> Français'
          >Français</option
        >
        <option
          value="en"
          data-content='<span class="fi fi-us me-2"></span> English'
          >English</option
        >
        <option
          value="es"
          data-content='<span class="fi fi-es me-2"></span> Español'
          >Español</option
        >
      </select>

      <input
        type="text"
        id="searchInput"
        class="form-control mb-3"
        placeholder="Rechercher une application..."
      />

      <select id="categorySelect" class="form-select mb-3">
        <option value="all">Toutes les catégories</option>
      </select>

      <table class="table table-striped">
        <thead>
          <tr>
            <th>Nom</th>
            <th>Catégorie</th>
            <th>Description</th>
            <th>Lien</th>
          </tr>
        </thead>
        <tbody id="appTableBody"></tbody>
      </table>
      <p id="noDataMessage" class="text-muted">Chargement des données...</p>
    </div>

   

    <!-- ▾ --------- Scripts métier (inchangés) --------- ▾ -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script>
      /* … tout votre JS catalogue (identique à la version précédente) … */
    </script>

    <!-- Librairies JS externes -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta3/js/bootstrap-select.min.js"></script>
    <script>
      $(function () {
        $("#languageSelect").selectpicker();
      });
    </script>

    <!-- ▾ --------- postMessage : ajuste la hauteur dans Pressero --------- ▾ -->
    <script>
      function sendHeight() {
        const h = document.documentElement.scrollHeight;
        // Remplacez * par l'URL exacte de votre boutique si désiré.
        parent.postMessage({ type: "resize", height: h }, "*");
      }
      window.addEventListener("load", sendHeight);
      window.addEventListener("resize", sendHeight);
    </script>
  </body>
</html>


